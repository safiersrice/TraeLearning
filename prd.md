# 图片字幕生成器 PRD文档

## 1. 产品概述

图片字幕生成器是一个简单易用的网页工具，允许用户为图片添加自定义字幕文本，并生成带字幕的新图片。该工具特别支持多行字幕，每一行字幕都具有相同的背景色，呈现出切割感的视觉效果。

## 2. 功能需求

### 2.1 核心功能

| 功能点 | 描述 |
|-------|------|
| 图片上传 | 支持用户选择本地图片文件进行上传 |
| 字幕文本输入 | 提供多行文本输入框，允许用户输入字幕内容 |
| 字幕样式配置 | 支持调整字幕高度、字体大小、字体颜色和轮廓颜色 |
| 字幕图片生成 | 将输入的字幕文本按配置样式添加到图片底部 |
| 图片保存 | 支持将生成的带字幕图片保存到本地 |

### 2.2 详细功能说明

#### 2.2.1 图片上传
- 支持常见图片格式（JPG、PNG等）
- 上传后显示图片预览
- 显示已选择的文件名

#### 2.2.2 字幕文本输入
- 多行文本输入区域
- 支持换行输入
- 实时显示输入内容

#### 2.2.3 字幕样式配置
- 字幕高度：通过数字输入框设置（像素单位）
- 字体大小：通过数字输入框设置（像素单位）
- 字体颜色：通过颜色选择器设置
- 轮廓颜色：通过颜色选择器设置

#### 2.2.4 字幕图片生成
- 将字幕添加到图片底部
- 每一行字幕具有独立的相同背景色
- 字幕呈现切割感视觉效果
- 生成后实时预览效果

#### 2.2.5 图片保存
- 提供保存按钮
- 支持将生成的图片下载到本地
- 保持图片质量

## 3. 界面设计

### 3.1 整体布局

```
+-----------------------------------------+
|              图片字幕生成器              |
+-----------------------------------------+
| 选择文件: [文件名]                        |
+-----------------------------------------+
| 字幕高度: [输入框] 字体大小: [输入框]    |
| 字体颜色: [颜色选择器] 轮廓颜色: [颜色选择器] |
+-----------------------------------------+
|                                         |
|         [多行文本输入区域]               |
|                                         |
+-----------------------------------------+
| [生成字幕图片] [保存图片]                |
+-----------------------------------------+
|                                         |
|         [图片预览区域]                   |
|                                         |
+-----------------------------------------+
```

### 3.2 界面元素说明

| 元素 | 位置 | 样式 |
|------|------|------|
| 标题 | 顶部居中 | 大字体，粗体 |
| 文件选择 | 标题下方 | 文本显示已选文件名 |
| 配置项 | 文件选择下方 | 水平排列的输入控件 |
| 文本输入 | 配置项下方 | 多行文本框，占满宽度 |
| 操作按钮 | 文本输入下方 | 绿色按钮，并排排列 |
| 图片预览 | 按钮下方 | 显示原图和生成的带字幕图片 |

### 3.3 字幕样式要求

- 字幕位于图片底部
- 每一行字幕有独立的相同背景色（通常为黑色或深色）
- 字幕背景覆盖整个图片宽度
- 文字居中显示在背景上
- 文字具有轮廓效果（可选）
- 行与行之间无间距，呈现切割感

## 4. 技术实现要求

### 4.1 前端技术
- HTML5 + CSS3 + JavaScript
- 使用Canvas API处理图片和文字绘制
- 响应式设计，适配不同屏幕尺寸

### 4.2 核心算法

1. 图片加载与显示
2. 文本行分割与测量
3. Canvas绘制文字（包括轮廓效果）
4. 图片合成与导出

### 4.3 浏览器兼容性
- 支持Chrome、Firefox、Safari、Edge等现代浏览器
- 确保Canvas API在各浏览器中正常工作

## 5. 用户体验

- 简洁直观的操作界面
- 实时预览生成效果
- 操作流程简单：选择图片 -> 输入字幕 -> 配置样式 -> 生成 -> 保存
- 提供清晰的视觉反馈

## 6. 后续优化建议

1. 支持更多图片格式和更大文件大小
2. 提供更多字体选择
3. 支持字幕位置调整（不局限于底部）
4. 支持批量处理多张图片
5. 提供字幕模板库
6. 支持社交媒体平台直接分享